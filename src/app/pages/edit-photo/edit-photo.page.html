<ion-header>
    <ion-toolbar>
        <ion-title>Image</ion-title>
        <ion-buttons slot="start">
            <ion-button (click)="openNativeFileInput()">
                <ion-icon slot="icon-only" name="camera"></ion-icon>
            </ion-button>
            <!-- <ion-button (click)="onEdit()">
                <ion-icon slot="icon-only" name="create"></ion-icon>
            </ion-button> -->
            <ion-button (click)="close()">
                <ion-icon slot="icon-only" name="arrow-back"></ion-icon>
            </ion-button>
            <!-- <ion-button (click)="upload()">
                        <ion-icon slot="icon-only" name="cloud-upload"></ion-icon>
                    </ion-button> -->
        </ion-buttons>
        <ion-buttons slot="end">
            <ion-button [disabled]="!this.ready"  *ngIf="!previewVisable"  (click)="rotate()">
                <ion-icon slot="end" name="refresh"></ion-icon>
            </ion-button>  
                      <!-- <ion-button [disabled]="!this.ready"  *ngIf="previewVisable"  (click)="rotate2(container, srcImg)">
                <rot
            </ion-button> -->
            <!-- <ion-button (click)="onCancelEdit()">
                    <ion-icon slot="icon-only" name="close"></ion-icon>
                </ion-button> -->
            <ion-button [disabled]="!this.ready" *ngIf="!previewVisable" (click)="preview()">
                <ion-icon slot="icon-only" name="checkmark"></ion-icon>
            </ion-button>
            <ion-button [disabled]="!this.ready" *ngIf="previewVisable"  (click)="edit()">
                <ion-icon slot="icon-only" name="create"></ion-icon>
            </ion-button>
            <ion-button [disabled]="!this.ready"  *ngIf="previewVisable"  (click)="upload()">
                <ion-icon slot="icon-only" name="cloud-upload"></ion-icon>
            </ion-button>
        </ion-buttons>
    </ion-toolbar>
</ion-header>


<ion-content>
    <ion-item dir="ltr">
        <ion-range (ionChange)="onQualityChanged($event)" [value]="imgQuality" min="0.6" max="0.9" step="0.05"
            snaps="true" color="secondary">
            <ion-label slot="start">0.6</ion-label>
            <ion-label slot="end">0.9</ion-label>
        </ion-range>
    </ion-item>
    <input type="file" #fileInput id="fileInput" hidden="true" name="" (change)="onFileInpuChanged($event)">

    <!-- <div #previewContainer class="preview"></div>
    
    
    -->
    <!-- <div  style='display: none' [ngClass]='rotateClass' #container class="container2"><img #srcImg [src]=' this.uploadedImageURL'></div> -->
    <div #previewContainer [ngClass]="previewVisable? '': 'not-visable'" class="preview"></div>
    <div   class="container" [ngClass]="previewVisable? 'not-visable': ''">
        <img id="image" (load)="onImageLoaded()" #image alt="Picture">
    </div>

</ion-content>